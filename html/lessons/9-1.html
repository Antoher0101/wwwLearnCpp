<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link href="../../css/styles.css" rel="stylesheet" type="text/css">
	<title>Изучение C++</title>
</head>
<body>
<!--HEADER START-->
<div class="header">
	<div class="header-item">
		<a class="header-link" href="../.." target="_self">
			<span class="flex-span" style="display: flex;">
			<svg class="icon" height="48" width="48" viewBox="0 0 32 32">
				<path d="M29,10.232a2.387,2.387,0,0,0-.318-1.244,2.451,2.451,0,0,0-.936-.879Q22.552,5.241,17.353,2.376A2.642,2.642,0,0,0,14.59,2.4c-1.378.779-8.275,4.565-10.331,5.706A2.287,2.287,0,0,0,3,10.231V21.77a2.4,2.4,0,0,0,.3,1.22,2.434,2.434,0,0,0,.954.9c2.056,1.141,8.954,4.927,10.332,5.706a2.642,2.642,0,0,0,2.763.026q5.19-2.871,10.386-5.733a2.444,2.444,0,0,0,.955-.9,2.4,2.4,0,0,0,.3-1.22V10.232"
				      style="fill:#909090"/>
				<path d="M28.549,23.171a2.126,2.126,0,0,0,.147-.182,2.4,2.4,0,0,0,.3-1.22V10.232a2.387,2.387,0,0,0-.318-1.244c-.036-.059-.089-.105-.13-.16L16,16Z"
				      style="fill:#464646"/>
				<path d="M28.549,23.171,16,16,3.451,23.171a2.435,2.435,0,0,0,.809.72c2.056,1.141,8.954,4.927,10.332,5.706a2.642,2.642,0,0,0,2.763.026q5.19-2.871,10.386-5.733A2.43,2.43,0,0,0,28.549,23.171Z"
				      style="fill:#363636"/>
				<path d="M19.6,18.02a4.121,4.121,0,1,1-.027-4.087l3.615-2.073A8.309,8.309,0,0,0,7.7,16a8.216,8.216,0,0,0,1.1,4.117A8.319,8.319,0,0,0,23.211,20.1L19.6,18.02"
				      color=""/>
				<polygon
						points="24.076 15.538 23.15 15.538 23.15 14.617 22.225 14.617 22.225 15.538 21.299 15.538 21.299 16.461 22.225 16.461 22.225 17.381 23.15 17.381 23.15 16.461 24.076 16.461 24.076 15.538"
						style="fill:#fff"/>
				<polygon
						points="27.549 15.538 26.623 15.538 26.623 14.617 25.697 14.617 25.697 15.538 24.771 15.538 24.771 16.461 25.697 16.461 25.697 17.381 26.623 17.381 26.623 16.461 27.549 16.461 27.549 15.538"
						style="fill:#fff"/>
			</svg>
			Leaner
			</span>
		</a>
	</div>
	<div class="v-splitter header-item"></div>
	<nav class="flex-container flex-space-between one-third-width flex-no-wrap">
		<a href="../faq.html" class="header-link header-item">FAQ</a>
		<a href="text-guide-introduction.html" class="header-link header-item">Учебник</a>
		<a href="../video-lessons.html" class="header-link header-item">Видеоуроки</a>
		<a href="../compiler.html" class="header-link header-item">Компилятор</a>
		<a href="https://github.com/Antoher0101/wwwLearnCpp" target="_blank" class="header-link header-item">Github</a>
	</nav>
</div>
<!--HEADER END-->

<main class="wrapper sidebar-position">
	<div id="main-content" class="centered-container">
		<!--		MAIN ARTICLES START-->
		<div class="container-content bordered-container">
			<div class="centered-container">
				<span class="content-header">Шаблоны</span>
				<span class="content-header">Шаблон класса</span>
				Шаблоны позволяют определить конструкции (функции, классы), которые используют определенные типы, но на
				момент написания кода точно не известно, что это будут за типы. Иными словами, шаблоны позволяют
				определить универсальные конструкции, которые не зависят от определенного типа.
				<br><br>
				Шаблон класса (class template) позволяет задать тип для объектов, используемых в классе. Но прежде чем
				перейти к определению шаблона класса, рассмотрим проблему, с которой мы можем столкнуться и которую
				позволяют решить шаблоны.
				<br><br>
				Допустим, нам надо описать класс банковского счета. Банковский счет должен иметь номер, однако на момент
				написания класса может быть неизвестно, какой тип будет представлять номер счета - это может быть
				числовой номер 1233545, а может и быть просто набор символов в виде строки, например, "1234878rtyio". На
				первый взгляд, мы можем просто определить два класса:
				<div class="code-container code">#include &lt;iostream&gt;
#include &lt;string&gt;

class IntAccount {
private:
	int id;
public:
	IntAccount(int id) : id(id)
	{ }
	int getId() {
		return id;
	}
};

class StrAccount {
private:
	std::string id;
public:
	StrAccount(std::string id) : id(id)
	{ }
	std::string getId() {
		return id;
	}
};

int main()
{
	StrAccount acc1("ca-pub1343767");
	IntAccount acc2(1234566);

	std::cout << "acc1: " << acc1.getId() << std::endl;
	std::cout << "acc2: " << acc2.getId() << std::endl;

	return 0;
}</div>
				Хотя данный пример работает, но по сути мы получаем два идентичных класса, которые отличаются только
				типом id. Шаблоны класса позволяют уменьшить повторяемость кода, задав для класса универсальный тип.
				Изменим код, применив шаблоны:
				<div class="code-container code">template &lt;typename T>
class Account {
private:
	T id;
public:
	Account(T id) : id(id)
	{ }
	T getId() {
		return id;
	}
};</div>
				Для применения шаблонов перед классом указывается ключевое слово <b>template</b>, после которого идут угловые
				скобки. В угловых скобках после слова <b>typename</b> идет параметр шаблона. Можно определить несколько
				параметров шаблона, в примере выше применяется только один параметр.
				<br><br>
				Параметр шаблона представляет произвольный идентификатор, в качестве которого, как правило, применяюся
				заглавные буквы, например, T. Но это необязательно. То есть в данном случае параметр T будет
				представлять некоторый тип, который становится известным во время компиляции. Это может быть и тип int,
				и double, и string, и любой другой тип. И теперь идентификатор счета будет представлять тип, который
				передается через параметр T.
				<br><br>
				Используем этот класс:
				<div class="code-container code">#include &lt;iostream&gt;
#include &lt;string&gt;

template &lt;typename T>
class Account {
private:
	T id;
public:
	Account(T id) : id(id)
	{ }
	T getId() {
		return id;
	}
};

int main()
{
	Account&lt;std::string> acc1("ca-pub1343767");
	Account&lt;int&gt; acc2(1234566);

	std::cout << "acc1: " << acc1.getId() << std::endl;
	std::cout << "acc2: " << acc2.getId() << std::endl;

	return 0;
}</div>
				При использовании шаблона класса необходимо в угловых скобках после названия класса указать конкретный
				тип, который будет применяться вместо параметра T. Так, в первом случае вместо T применяется тип string,
				поэтому в конструктор класса можно передать строку:
				<div class="code-container code">Account&lt;std::string> acc1("ca-pub1343767");</div>
				Во втором случае применяется тип int, поэтому в конструктор передается число:
				<div class="code-container code">Account&lt;int&gt; acc2(1234566);</div>
				Также можно применять сразу несколько параметров. Например, необходимо определить класс банковского
				перевода:
				<div class="code-container code">#include &lt;iostream&gt;
#include &lt;string&gt;

template &lt;typename T, typename V>
class Transaction
{
public:
	Transaction(T fromAcc, T toAcc, V code, int sum):
	fromAccount(fromAcc), toAccount(toAcc), code(code), sum(sum)
	{ }
	void getInfo()
	{
		std::cout << "From: " << fromAccount << "\nTo: " << toAccount
		<< "\nSum: " << sum << "\nCode: " << code << std::endl;
	}
private:
	T fromAccount; // с какого счета
	T toAccount; // на какой счет
	V code; // код операции
	int sum; // сумма перевода
};

int main()
{
	Transaction&lt;std::string, int> t1("id1234", "id5678", 2804, 5000);
	t1.getInfo();

	return 0;
}</div>
				Класс Transaction использует два параметра типа T и V. Параметр T определяет тип для счетов, которые
				участвуют вв процессе перевода. Здесь в качестве номеров счетов можно использовать и числовые и
				строковые значения и значения других типов. А параметр V задает тип для кода операции - опять же это
				может быть любой тип.
				<br><br>
				При использовании шаблона в этом случае надо указать два типа:
				<div class="code-container code">Transaction&lt;std::string, int> t1("id1234", "id5678", 2804, 5000);</div>
				Типы передаются параметрам по позиции. Так, тип string будет использоваться вместо параметра T, а тип
				int - вместо параметра V.

				<div class="code-container">Вся информация принадлежит сайту <a href="https://metanit.com/"
				                                                                target="_blank">METANIT.COM</a></div>
				<div class="centered-content">
					<a href="8-4.html">Назад</a>
					<a href="text-guide-introduction.html">Содержание</a>
					<a href="9-2.html">Вперед</a>
				</div>
			</div>
		</div>
		<!--MAIN ARTICLES END-->
	</div>

</main>
<!--FOOTER START-->
<footer class="footer centered-container border-top">
	<div class="flex-container flex-items-center f12">
		<ul class="list-style-none" style="margin-top: 6px;width: 16%;">
			<li class="flex-items-center">
				<a class="header-link" href="https://github.com/Antoher0101" target="_blank">
					<span>
						<img alt="@Antoher0101" class="avatar circle"
						     height="24" src="https://avatars.githubusercontent.com/u/62786345?s=96&amp;v=4" width="24">
					 © 2022 Antoher0101 </span>
				</a>

			</li>
		</ul>
		<ul class="flex-ul list-style-none two-third-width flex-space-between">
			<li class="flex-items-center"><a href="https://github.com/Antoher0101/wwwLearnCpp" target="_self">This
			                                                                                                  repository</a>
			</li>
			<li class="flex-items-center"><a href="https://github.com/Antoher0101/wwwLearnCpp/commits/master"
			                                 target="_blank">Commits</a></li>
			<li class="flex-items-center"><a href="https://github.com/Antoher0101/wwwLearnCpp/blob/master/README.md"
			                                 target="_blank">About</a></li>
		</ul>
	</div>
</footer>
<!--FOOTER END-->
<script src="../../js/jquery.min.js"></script>
<script src="../../js/ace/ace.js"></script>
<script>
    var code;
    $('.code').each(function () {
        code = ace.edit(this);
        code.setTheme("ace/theme/one_dark");
        code.getSession().setMode("ace/mode/c_cpp");
        code.setShowPrintMargin(false);
        code.setReadOnly(true);
        code.setOptions({
            maxLines: Infinity,
            fontSize: "12pt",
        });
        code.$blockScrolling = Infinity;
    });
</script>
</body>
</html>